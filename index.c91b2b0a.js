async function e(){const e="https://api.themoviedb.org/3/genre/movie/list?api_key=21161239b69d8dd6ebeec5ac6086d760&language=en-US";try{console.log("Cerere la API-ul de genuri:",e);const n=await fetch(e),o=await n.json();return o.genres&&0!==o.genres.length?(console.log("Genuri obținute:",o.genres),o.genres):(console.error("Niciun gen găsit:",o),[])}catch(e){return console.error("Eroare la API-ul de genuri:",e),[]}}let n=[];async function o(){return 0===n.length&&(n=await e()),n}async function r(){try{console.log("Fetching popular movies...");const e=await fetch("https://api.themoviedb.org/3/movie/popular?api_key=21161239b69d8dd6ebeec5ac6086d760&language=en-US&page=1"),n=await e.json();if(!n.results||0===n.results.length)return console.error("No popular movies found:",n),[];const r=await o();console.log("Genres retrieved:",r);const t=n.results.map((e=>({...e,genre_names:e.genre_ids.map((e=>r.find((n=>n.id===e))?.name||"Unknown"))})));return console.log("Movies with genres:",t),t}catch(e){return console.error("Error fetching popular movies:",e),[]}}function t(e){let n="movie__average--red";e.vote_average>=7?n="movie__average--green":e.vote_average>=5&&(n="movie__average--orange");const o=e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"./images/no-image-available.jpg",r=e.poster_path?`${e.title} movie poster`:`No poster available for ${e.title}`;let t=e.genre_names.slice(0,2);e.genre_names.length>2&&t.push("Other");const i=t.join(", ");return`\n    <li class="movie_list_item">\n      <div class="movie__cover-inner">\n        <img \n          class="movie__cover" \n          src="${o}" \n          alt="${r}" \n        />\n        <div class="movie__cover--darkened"></div>\n      </div>\n      <div class="movie-info">\n        <h3 class="movie-title">${e.title}</h3>\n        <p class="movie-date">${i} | ${new Date(e.release_date).getFullYear()}</p>\n        <div class="movie__average ${n}">\n          ${e.vote_average.toFixed(1)}\n        </div>\n      </div>\n    </li>\n  `}async function i(){try{console.log("Apelare la funcția renderMovies...");const e=await r(),n=document.querySelector(".movies");if(!e||0===e.length)return console.error("Niciun film pentru afișare."),void(n.innerHTML="<p>No movies found.</p>");const o=e.map(t).join("");console.log("HTML-ul generat pentru filme:",o),n.innerHTML=o}catch(e){console.error("Eroare la afișarea filmelor:",e),document.querySelector(".movies").innerHTML="<p>Error loading movies.</p>"}}document.addEventListener("DOMContentLoaded",(()=>{console.log("App initialized"),i()}));
//# sourceMappingURL=index.c91b2b0a.js.map
