function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=n.parcelRequiree8fd;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},n.parcelRequiree8fd=a),a.register("kyEFX",(function(t,n){var o,r;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var a={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},r=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a("kyEFX").register(JSON.parse('{"5ZPII":"index.f401f849.js","g3eML":"nothing-just.ba058259.jpg","ePOSS":"error-loading.ea87ebd9.gif","frxiO":"placeholder.c810084f.png","5UbS1":"index.4c3f46c0.css"}'));let i=[];async function s(){return 0===i.length&&await async function(){try{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=21161239b69d8dd6ebeec5ac6086d760&language=en-US"),t=await e.json();return t.genres&&(i=t.genres),i}catch(e){return console.error("Eroare la încărcarea genurilor:",e),[]}}(),i}const c=document.querySelector(".loader");function l(){c.classList.add("show"),setTimeout((()=>{c.classList.remove("show")}),1e3)}document.getElementById("search-form").addEventListener("submit",(()=>{l()}));const d=document.querySelector('[data-index="1"]'),u=document.querySelector('[data-index="2"]'),m=document.querySelector('[data-index="3"]'),g=document.querySelector('[data-index="4"]'),v=document.querySelector('[data-index="5"]'),y=document.querySelector(".first-button"),p=document.querySelector(".last-button"),h=document.querySelector(".pagination-container"),f=document.querySelector(".arrow-right"),b=document.querySelector(".arrow-left"),E=document.querySelector("#previous"),w=document.querySelector("#after");let L=1,_=20;function k(e){_=Math.max(e||1,1),h.style.display="flex";const t=[d,u,m,g,v];t.forEach((e=>e.hidden=!0));const n=Math.min(_,5);for(let e=0;e<n;e++)t[e].hidden=!1,t[e].textContent=e+1,t[e].classList.toggle("pagination--current",e+1===L);if(p.textContent=_,y.hidden=L<=3||_<=5,E.hidden=L<=3||_<=5,p.hidden=L>=_-2||_<=5,w.hidden=L>=_-2||_<=5,b.hidden=L<=1,f.hidden=L>=_,L>3&&_>5){let e=L-2;e+4>_&&(e=Math.max(1,_-4)),t.forEach(((t,n)=>{t.hidden||(t.textContent=e+n,t.classList.toggle("pagination--current",e+n===L))}))}}function S(){L=1,k(_)}async function P(e=L){const t=`https://api.themoviedb.org/3/movie/popular?api_key=21161239b69d8dd6ebeec5ac6086d760&language=en-US&page=${Math.min(Math.max(1,e),500)}`;try{const e=await fetch(t),n=await e.json();if(!n.results||0===n.results.length)return{results:[],total_pages:0};const o=await s();return{results:n.results.map((e=>({...e,genre_names:e.genre_ids.map((e=>o.find((t=>t.id===e))?.name||"Unknown"))}))),total_pages:Math.min(n.total_pages,500)}}catch(e){return{results:[],total_pages:0}}}async function T(e,t=1){const n=Math.min(Math.max(1,t),500),o=`https://api.themoviedb.org/3/search/movie?${new URLSearchParams({api_key:"21161239b69d8dd6ebeec5ac6086d760",query:e,page:n,language:"en-US",include_adult:!1})}`;try{const e=await fetch(o),t=await e.json();if(!t||!t.results)return{results:[],total_pages:0};const n=await s();return{results:t.results.map((e=>({...e,genre_names:e.genre_ids?.map((e=>n.find((t=>t.id===e))?.name||"Unknown"))||[]}))),total_pages:t.total_pages}}catch(e){return{results:[],total_pages:0}}}async function q(e){const t=`https://api.themoviedb.org/3/movie/${e}?api_key=21161239b69d8dd6ebeec5ac6086d760&language=en-US`;try{const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch movie details");return await e.json()}catch(e){throw e}}async function x(e){const t=`https://api.themoviedb.org/3/movie/${e}/videos?api_key=21161239b69d8dd6ebeec5ac6086d760`;try{const e=await fetch(t),n=(await e.json()).results.find((e=>"Trailer"===e.type&&"YouTube"===e.site));return n?`https://www.youtube.com/embed/${n.key}`:null}catch(e){return null}}h.addEventListener("click",(async function(e){const t=e.target;if("BUTTON"===t.tagName){t.blur();const e=L;t.classList.contains("pagination-button")&&t.dataset.index?L=Number(t.textContent):t.classList.contains("arrow-right")&&L<_?L+=1:t.classList.contains("arrow-left")&&L>1?L-=1:t.classList.contains("first-button")?L=1:t.classList.contains("last-button")&&(L=_),e!==L&&(window.scrollTo({top:0,behavior:"smooth"}),ge?await se(ge,L):await ce(L))}l()}));document.getElementById("search-form"),document.querySelector(".form-input");const I=document.querySelector(".movies");document.querySelector(".header"),document.querySelector(".menu__link-home"),document.querySelector(".menu__link-library"),document.querySelector(".modal__backdrop"),document.getElementById("modal"),document.querySelector(".warning-notification"),document.querySelector(".pagination-container");function M(){const e=document.getElementById("trailer-modal-container"),t=document.getElementById("trailer-backdrop"),n=document.getElementById("trailer-content");function o(){n.innerHTML="",e.classList.remove("open")}return t.addEventListener("click",o),document.addEventListener("keydown",(t=>{"Escape"===t.key&&e.classList.contains("open")&&o()})),function(t){n.innerHTML=`\n      <iframe \n        src="${t}" \n        frameborder="0" \n        allow="autoplay; encrypted-media" \n        allowfullscreen>\n      </iframe>`,e.classList.add("open"),l()}}function $(e){return JSON.parse(localStorage.getItem(e))||[]}function H(e,t){return $(e).some((e=>e.id===t))}function B(e,t){let n=$(e);H(e,t.id)?n=n.filter((e=>e.id!==t.id)):n.push(t),localStorage.setItem(e,JSON.stringify(n))}const O={currentPage:1,totalPages:1,itemsPerPage:9,currentItemsPerPage:9,whatPaginated:"local",whatchedOrQueue:"WATCHED"};let C=[];function N(){const e=window.innerWidth;return e>=1024?9:e>=768?8:4}function U(e){C=e||[];const t=document.querySelector(".library-list"),n=document.querySelector(".pagination");if(t.innerHTML="",n.innerHTML="",!C.length)return void(t.innerHTML='\n      <li class="watched-img">\n        <p class="watched-warning">No movies have been added yet. Let\'s go pick something to your liking</p>\n      </li>');const o=function(e,t){if(!e)return[];const n=(t-1)*(O.currentItemsPerPage=N());return k(O.totalPages=Math.ceil(e.length/O.currentItemsPerPage)),e.slice(n,n+O.currentItemsPerPage)}(C,O.currentPage);let r="";o.forEach((e=>{r+=ae(e)})),t.innerHTML=r,function(e){if(O.totalPages<=1)return;let t="";t+=`\n    <button class="pagination-button arrow-left" ${O.currentPage<=1?"hidden":""}></button>\n    <button class="pagination-button first-button" ${O.currentPage<=3?"hidden":""}>1</button>\n    <button class="dots-btn" ${O.currentPage<=3?"hidden":""}><span class="dots" id="previous">...</span></button>\n  `;for(let e=Math.max(1,O.currentPage-2);e<=Math.min(O.totalPages,O.currentPage+2);e++)t+=`\n      <button class="pagination-button ${e===O.currentPage?"pagination--current":""}" data-index="${e}">${e}</button>\n    `;t+=`\n    <button class="dots-btn" ${O.currentPage>=O.totalPages-2?"hidden":""}><span class="dots" id="after">...</span></button>\n    <button class="pagination-button last-button" ${O.currentPage>=O.totalPages-2?"hidden":""}>${O.totalPages}</button>\n    <button class="pagination-button arrow-right" ${O.currentPage>=O.totalPages?"hidden":""}></button>\n  `,e.innerHTML=t,function(e){e.addEventListener("click",(e=>{const t=e.target;if("BUTTON"===t.tagName){let e=O.currentPage;t.classList.contains("arrow-right")&&O.currentPage<O.totalPages?e=O.currentPage+1:t.classList.contains("arrow-left")&&O.currentPage>1?e=O.currentPage-1:t.classList.contains("first-button")?e=1:t.classList.contains("last-button")?e=O.totalPages:t.dataset.index&&(e=Number(t.textContent)),e!==O.currentPage&&(O.currentPage=e,U(C),window.scrollTo({top:0,behavior:"smooth"}))}}))}(e)}(n),t.addEventListener("click",(e=>{const t=e.target.closest(".movie_list_item");if(!t)return;te(t.dataset.movieId)}))}function A({onWatchedTabClick:e,onQueueTabClick:t}){const n=document.querySelector("#watched-btn"),o=document.querySelector("#queue-btn");n.addEventListener("click",(()=>{S(),n.classList.add("library-btn-active"),o.classList.remove("library-btn-active"),e(),l()})),o.addEventListener("click",(()=>{S(),o.classList.add("library-btn-active"),n.classList.remove("library-btn-active"),t(),l()}))}function D(){document.querySelector("#library-buttons").style.display="block",S(),U($("watched")),A({onWatchedTabClick:()=>{S(),U($("watched"))},onQueueTabClick:()=>{S(),U($("queue"))}})}window.addEventListener("resize",(()=>{const e=O.currentItemsPerPage,t=N();e!==t&&C.length>0&&(O.currentItemsPerPage=t,U(C))}));const F=document.getElementById("library-btn"),R=document.getElementById("home-btn"),j=document.getElementById("search-form"),W=document.getElementById("library-buttons"),Q=document.getElementById("watched-button"),X=document.getElementById("queue-button"),V=document.querySelector(".gallery"),J=document.querySelector("#library-gallery"),z=document.querySelector(".theme-switcher");let Y="home";function G(){return"library"===Y}function Z(){function e(){R.classList.remove("active"),F.classList.remove("active")}function t(){Y="home",j.style.display="block",W.style.display="none",V.style.display="block",J.style.display="none",e(),R.classList.add("active"),z&&(z.style.display="block"),e(),R.classList.add("active"),l()}R.addEventListener("click",t),F.addEventListener("click",(function(){Y="library",j.style.display="none",W.style.display="flex",V.style.display="none",J.style.display="block",e(),F.classList.add("active"),Q.classList.add("library-btn-active"),X.classList.remove("library-btn-active"),D(),z&&(z.style.display="none"),l()})),t()}function K(e){Q.textContent=H("watched",e.id)?"REMOVE FROM WATCHED":"ADD TO WATCHED",X.textContent=H("queue",e.id)?"REMOVE FROM QUEUE":"ADD TO QUEUE",Q.onclick=()=>{B("watched",e),Q.textContent=H("watched",e.id)?"REMOVE FROM WATCHED":"ADD TO WATCHED",G()&&(D(),ee())},X.onclick=()=>{B("queue",e),X.textContent=H("queue",e.id)?"REMOVE FROM QUEUE":"ADD TO QUEUE",G()&&(D(),ee())}}function ee(){const e=document.createElement("p");e.textContent="Library updated!",e.className="update-message",document.querySelector("#library-gallery").prepend(e),setTimeout((()=>{e.remove()}),2e3)}async function te(e){const t=document.querySelector(".modal-wrapper"),n=document.querySelector(".backdrop"),o=document.getElementById("poster-section"),r=document.getElementById("movie-title"),a=(document.getElementById("movie-votes"),document.getElementById("movie-popularity")),i=document.getElementById("original-title"),s=document.getElementById("movie-genre"),c=document.getElementById("movie-about"),l=document.getElementById("trailer-button"),d=M();if(e)try{!function(e){o.style.backgroundImage=`url('https://image.tmdb.org/t/p/w500/${e.poster_path||""}')`,r.textContent=e.title||"No Title";let t="movie__average--red";e.vote_average>=7?t="movie__average--green":e.vote_average>=5&&(t="movie__average--orange");const n=document.querySelector("#modal-movie-votes");n&&(n.innerHTML=`\n        <span class="vote-average ${t}">\n          ${e.vote_average?.toFixed(1)||"N/A"}\n        </span>\n        <span class="vote-separator">/</span>\n        <span class="vote-count">\n          ${e.vote_count||0}\n        </span>\n      `);a.textContent=e.popularity?.toFixed(1)||"N/A",i.textContent=e.original_title||"N/A",s.textContent=e.genres?.map((e=>e.name)).join(", ")||"Unknown",c.textContent=e.overview||"No description available.",l.onclick=()=>async function(e){try{const t=await x(e);t?d(t):alert("Trailer not available.")}catch(e){console.error("Error fetching trailer:",e)}}(e.id),K(e)}(await q(e)),document.body.classList.add("modal-open"),t.classList.add("open"),n.addEventListener("click",u),document.addEventListener("keydown",m),t.addEventListener("click",g)}catch(e){console.error("Error fetching movie details:",e)}else console.error("No movie ID provided!");function u(){document.body.classList.remove("modal-open"),t.classList.remove("open"),n.removeEventListener("click",u),document.removeEventListener("keydown",m),t.removeEventListener("click",g)}function m(e){"Escape"===e.key&&t.classList.contains("open")&&u()}function g(e){document.getElementById("movie-details").contains(e.target)||u()}}var ne;ne=new URL(a("kyEFX").resolve("g3eML"),import.meta.url).toString();var oe;oe=new URL(a("kyEFX").resolve("ePOSS"),import.meta.url).toString();var re;function ae(e){let n="movie__average--red";e.vote_average>=7?n="movie__average--green":e.vote_average>=5&&(n="movie__average--orange");const o=e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:t(re),r=e.poster_path?`${e.title||""} movie poster`:"No poster available",a=e.genre_names||[];let i=a.slice(0,2);a.length>2&&i.push("Other");const s=a.length>0?i.join(", "):"",c=void 0!==e.vote_average?e.vote_average.toFixed(1):"",l=e.release_date?new Date(e.release_date).getFullYear():"";return`\n    <li class="movie_list_item" data-movie-id="${e.id||""}">\n      <div class="movie__cover-inner">\n        <img \n          class="movie__cover" \n          src="${o}" \n          alt="${r}" \n        />\n      </div>\n      <div class="movie__cover--darkened"></div>\n      <div class="movie-info">\n        ${e.title?`<h3 class="movie-title">${e.title}</h3>`:""}\n        ${s||l?`<p class="movie-date">${[s,l].filter(Boolean).join(" | ")}</p>`:""}\n        ${c?`<div class="movie__average ${n}">${c}</div>`:""}\n      </div>\n    </li>\n  `}function ie(){const e=window.innerWidth;return e>=1024?18:e>=768?16:20}async function se(e,n){try{const{results:o,total_pages:r}=await T(e,n);if(!o||0===o.length)return I.classList.add("error-state"),I.innerHTML=`<div class="error-message">\n          <p>No movies found. Please try again later.</p>\n          <img src="${t(ne)}" alt="Nothing" class="error-image" />\n        </div>`,void k(0);const a=ie(),i=o.slice(0,a).map(ae).join("");I.innerHTML=i,k(r)}catch(e){I.classList.add("error-state"),I.innerHTML=`\n     <div class="error-message">\n       <p>Error loading movies. Please try again later.</p>\n       <img src="${t(oe)}" alt="Error Loading" class="error-image" />\n     </div>\n   `,k(0)}}async function ce(e=1){try{const{results:n,total_pages:o}=await P(e);if(!n||0===n.length)return I.classList.add("error-state"),I.innerHTML=`<div class="error-message">\n          <p>No movies found. Please try again later.</p>\n          <img src="${t(ne)}" alt="Nothing" class="error-image" />\n        </div>`,void k(0);const r=ie(),a=n.slice(0,r).map(ae).join("");I&&(I.innerHTML=a,k(o),I.addEventListener("click",(e=>{const t=e.target.closest(".movie_list_item");if(!t)return;const n=t.dataset.movieId;n&&(te(n),l())})))}catch(e){I&&(I.classList.add("error-state"),I.innerHTML=`\n        <div class="error-message">\n          <p>Error loading movies. Please try again later.</p>\n          <img src="${t(oe)}" alt="Error Loading" class="error-image" />\n        </div>\n      `),k(0)}}async function le(e,n){const o=document.querySelector(".movies"),r=document.querySelector("#search-error");try{const a=(await T(e,n))?.results||[];if(!Array.isArray(a)||0===a.length)return r.style.display="block",o.classList.add("error-state"),o.innerHTML=`\n        <div class="error-message">\n          <p>No movies found. Please try a different search term.</p>\n          <img src="${t(ne)}" alt="Nothing" class="error-image" />\n        </div>`,void k(0);const i=await s(),c=a.map((e=>({...e,genre_names:Array.isArray(e.genre_ids)?e.genre_ids.map((e=>i.find((t=>t.id===e))?.name||"Unknown Genre")):[]})));r.style.display="none",o.classList.remove("error-state"),o.innerHTML=c.map(ae).join("")}catch(e){r.style.display="block",o.classList.add("error-state"),o.innerHTML=`\n      <div class="error-message">\n        <p>Error loading movies. Please try again later.</p>\n        <img src="${t(oe)}" alt="Error Loading" class="error-image" />\n      </div>`,k(0)}}re=new URL(a("kyEFX").resolve("frxiO"),import.meta.url).toString(),window.addEventListener("resize",(()=>{I.children.length>0&&(ge?se(ge,L):ce(L))}));const de=document.querySelector(".search"),ue=document.querySelector(".search-button"),me=document.querySelector(".loader");let ge="";function ve(){const e=1.2*window.outerHeight,t=document.getElementById("backToTopButton");window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>e?t.classList.add("active"):t.classList.remove("active")})),t.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))}function ye(){const e=document.getElementById("themeSwitcherCheckbox");let t=localStorage.getItem("theme");t||(t="light",localStorage.setItem("theme",t)),document.body.classList.add(`${t}-theme`),e.checked="dark"===t,e.addEventListener("change",(()=>{const t=e.checked;document.body.classList.toggle("light-theme",!t),document.body.classList.toggle("dark-theme",t),localStorage.setItem("theme",t?"dark":"light")}))}ue.addEventListener("click",(function(e){e.preventDefault();const t=de.value.trim();""!==t&&(ge=t,l(),le(t,1).finally((()=>{me.classList.remove("show")})),de.value="",l())})),de.addEventListener("keydown",(function(e){if("Enter"===e.key){e.preventDefault();const t=1,n=de.value.trim();if(""===n)return;ge=n,l(),le(n,t).finally((()=>{me.classList.remove("show")})),de.value=""}})),document.addEventListener("DOMContentLoaded",(()=>{ye(),l(),ce(),Z(),window.onscroll=function(){const e=(document.body.scrollTop||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;document.getElementById("progressBar").style.width=e+"%"},ve()}));
//# sourceMappingURL=index.f401f849.js.map
